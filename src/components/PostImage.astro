---
export interface Props {
  height?: string;
  justifyContent?: 'flex-start' | 'flex-end' | 'center';
}

const { height = 'initial', justifyContent = 'flex-start' } = Astro.props;
---

<figure class="PostImage">
  <div
    class="image--holder"
    style={`--image-height: ${height}; justify-content: ${justifyContent}`}
  >
    <slot />
  </div>

  <figcaption><slot name="caption" /></figcaption>
</figure>

<style lang="scss">
  .PostImage {
    margin: 0;
    padding: 0;

    .image--holder {
      @media (min-width: 1100px) {
        display: flex;
        flex-wrap: wrap;
      }

      :global(.ImagePro) {
        margin-bottom: 10px;
        @media (min-width: 1100px) {
          margin-right: 10px;
        }

        &:last-child {
          margin-right: 0;
        }
      }
    }

    figcaption {
      margin-bottom: 10px;
      &:empty {
        display: none;
        margin-bottom: 0;
      }

      text-align: center;

      :global(p) {
        margin: 0;
      }
    }
  }
</style>
